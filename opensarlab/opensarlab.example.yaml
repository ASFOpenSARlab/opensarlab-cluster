---

parameters:
  code_commit_repo_name: Repository name of the AWS Code Commit repo
  code_commit_branch_name: Branch name of the AWS Code Commit repo
  cost_tag_key: Name of the cost allocation tag
  cost_tag_value: Value of the cost allocation tag
  admin_user_name: Username of initial JupyterHub admin
  admin_email_address: Email address used by AWS Cognito to send sign up info
  admin_email_address_sns_arn: AWS arn of the email address used by AWS Cognito to send sign up info
  certificate_arn: AWS arn of the SSL certificate held in Certificate Manager
  container_namespace: A namespaced path within AWS ECR containing JupyterHub images
  deployment_url: Domain of JupyterHub deployment. Use `load balancer` if no custom known.
  az_suffix: Availabilty Zone "letter" (us-west-2a) of the JupyterHub deployment. This should not be changed after initial deployment.
  
  # Optional
  ical_url: Public URL address of the notification calendar in ICal format
  user_whitelist_bucket: S3 bucket that contains the whitelist spreadsheet
  user_whitelist_csv: Spreadsheet containing whitelisted users

nodes:
  - name: hub  # Required
    instance: The EC2 instance for the hub node. Type t3a.medium is preferred.
    min_number: 1  # Required
    max_number: 1  # Required
    node_policy: hub  # Required
    is_hub: True  # Required

  - name: Name of node type. Must be alphanumeric (no special characters, whitespace, etc.)
    instance: The EC2 instance for the hub node (m5a.2xlarge)
    min_number: Minimum number of running node of this type in the cluster (0)
    max_number: Maximum number of running node of this type in the cluster (25)
    node_policy: Node permission policy (user)
    root_volume_size: Size of the root volume of the EC2 (GiB) (Optional, range 1 - 16,384)

profiles:
  - name: Name of profile that users can select (SAR 1)
    description: Description of profile
    image_name: Name of JupyterHub single user image found in ECR (sar1)
    image_tag: Tag of JupyterHub single user image found in ECR (b1f4e84)
    hook_script: Name of the script ran on user server startup (sar.sh) (optional)
    memory_guarantee: RAM usage guaranteed per user (6G) (Optional. Defaults to 0% RAM.)
    memory_limit: RAM usage guaranteed per user (16G) (Optional. Defaults to 100% RAM of server.)
    cpu_guarantee: CPU usage guaranteed per user (15) (Optional. Defaults to 0% CPU.)
    cpu_limit: CPU usage limit per user (30) (Optional. Defaults to 100% CPU of server.)
    storage_capacity: Size of each user's home directory (500Gi). Cannot be reduced after allocation.
    node_name: Node name as given in above section (sar1)
    delete_user_volumes: If True, deletes user volumes upon server stopping (Optional. Defaults to False.)
    classic: If True, use Classic Notebook interface (Optional. Defaults to False, i.e. JupyterLab.)
